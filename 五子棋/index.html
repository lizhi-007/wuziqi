<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>网络五子棋游戏</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
	</head>

	<style>
		body{
			margin: 0;
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
			background-attachment: fixed;
			
		}
		.main-content {
		    position: relative;
		    z-index: 2;
		    width: 100%;
		    max-width: 1200px;
		    display: flex;
		    flex-direction: column;
		    align-items: center;
		    padding: 20px;
			margin: 0 auto;
		}
		
		.game-title {
		    color: white;
		    font-size: 3.5rem;
		    margin-bottom: 40px;
		    text-align: center;
		    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
		    letter-spacing: 2px;
		}
		
		.game-description {
		    color: white;
		    font-size: 1.2rem;
		    max-width: 600px;
		    text-align: center;
		    margin-bottom: 50px;
		    line-height: 1.6;
		    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
		}
		
		.auth-btn {
		    background: linear-gradient(135deg, #0a3d2e 0%, #4CAF50 100%);
		    color: white;
		    border: none;
		    padding: 18px 45px;
		    font-size: 1.4rem;
		    border-radius: 50px;
		    cursor: pointer;
		    transition: all 0.3s ease;
		    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
		    display: flex;
		    align-items: center;
		    gap: 12px;
		    margin-bottom: 40px;
		}
		
		.auth-btn:hover {
		    transform: translateY(-3px);
		    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
		}
		
		.auth-btn:active {
		    transform: translateY(1px);
		}
		
		.auth-section {
		    display: flex;
		    gap: 20px; 
		    width: 100%;
		    max-width: 900px;
		    justify-content: center;
		}
		
		.container, .auth-container {
		    
		    background-image: linear-gradient(135deg, rgba(204, 255, 204, 0.70), rgba(34, 139, 34, 0.80));
		    
		    padding: 18px;
		    border-radius: 15px;
		    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); 
		    width: 100%;
		    max-width: 320px; 
		    backdrop-filter: blur(10px); 
		    transform: scale(0.95);
		    opacity: 0;
		    transition: all 0.4s ease;
		    display: none;
		}
		.container h1, .auth-container h2 {
		    color: #1a4d3b; 
		    font-weight: 600;
		}
		
		.container.active, .auth-container.active {
		    transform: scale(1);
		    opacity: 1;
		    display: block;
		}
        .bg-video {
            position: fixed; 
            top: 0;
            left: 0;
            width: 100vw; 
            height: 100vh; 
            object-fit: cover; 
            z-index: -1; 
            opacity: 0.9; 
        }

        .main-content {
            position: relative;
            z-index: 2; 
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
		
		
		h1, h2 {
		    text-align: center;
		    color: #2c3e50;
		    margin-top: 0;
		}
		
		form div {
		    margin-bottom: 12px;
		}
		
		label {
		    display: block;
		    margin-bottom: 5px;
		    font-weight: bold;
		}
		
		input[type="text"],
		input[type="password"] {
		    width: 100%;
		    padding: 8px;
		    border: 1px solid #ddd;
		    border-radius: 4px;
		    box-sizing: border-box;
		}
		
		.password-container {
		    position: relative; 
		}
		
		
		
		input[type="submit"] {
		    width: 100%;
		    padding: 10px;
		    background-color: #3498db;
		    color: white;
		    border: none;
		    border-radius: 4px;
		    cursor: pointer;
		    font-size: 15px;
		    transition: background-color 0.3s;
		}
		
		input[type="submit"]:hover {
		    background-color: #2980b9;
		}
		
		.remember-me {
		    display: flex;
		    align-items: center;
		    gap: 8px; 
		    margin-bottom: 12px; 
		}
		
		.remember-me input[type="checkbox"] {
		    width: 18px;
		    height: 18px;
		    cursor: pointer;
		    accent-color: #2e7d32; 
		    border: 2px solid #81c784; 
		    border-radius: 3px;
		}
		
		/* 勾选框文字样式 */
		.remember-me label {
		    color: #1e5641; 
		    font-weight: normal;
		    cursor: pointer;
		    font-size: 14px;
		}
		
		.switch-auth {
		    text-align: center;
		    margin-top: 15px;
		}
		
		.switch-auth a {
		    color: #3498db;
		    text-decoration: none;
		    cursor: pointer;
		}
		
		.switch-auth a:hover {
		    text-decoration: underline;
		}
		#eyeicon {
		    position: absolute; 
		    right: 10px;         
		    top: 70%;            
		    transform: translateY(-50%);  
		    width: 24px;         
		    height: 24px;
		    cursor: pointer;     
		    background: #fff;    
		    z-index: 10;         
		}
		
		
		.pwd-icon {
		    position: absolute;
		    right: 10px;
		    top: 70%;
		    transform: translateY(-50%);
		    width: 24px;
		    height: 24px;
		    cursor: pointer;
		    background: #fff;
		    z-index: 10;
		} 
		
		
	</style>
	<script>
		
		document.addEventListener('DOMContentLoaded', function() {
		    document.getElementById('goregister').addEventListener('click', function() {
		        switchAuth('register');
		    });
		    document.getElementById('gologin').addEventListener('click', function() {
		        switchAuth('login');
		    });
		    document.getElementById('showLogin').addEventListener('click', function() {
		    
		        switchAuth('login');
		        
		        
		        document.getElementById('logincontainer').scrollIntoView({ behavior: 'smooth' });
		    });
			    const rememberCheck = document.getElementById('rememberMeCheck');
			    rememberCheck.addEventListener('change', function() {
			        rememberMe = this.checked; 
			    });
		
		    
		    checkRememberedLogin();
		});

		function switchAuth(type) {
		  const logincontainer = document.getElementById('logincontainer');
		  const registercontainer = document.getElementById('registercontainer');
		  const showLoginBtn = document.getElementById('showLogin'); 
		
		  if (type === 'login') {
		    logincontainer.classList.add('active');
		    registercontainer.classList.remove('active');
		    showLoginBtn.style.display = 'none'; 
		  } else if (type === 'register') {
		    logincontainer.classList.remove('active');
		    registercontainer.classList.add('active');
		    showLoginBtn.style.display = 'none'; 
		  }
		}
		
	
       let rememberMe = false;
       function checkRememberedLogin() {
           const savedUsername = localStorage.getItem('rememberedUsername');
           const savedPassword = localStorage.getItem('rememberedPassword');
           const rememberCheck = document.getElementById('rememberMeCheck'); 
           
           if (savedUsername && savedPassword) {
               document.getElementById('id_number').value = savedUsername;
               document.getElementById('id_password').value = savedPassword;
               rememberCheck.checked = true;
               rememberMe = true; 
           }
       }
       
		 
		       
		
		//登录校验
		function form_data(){
			let id_numberInput = document.getElementById("id_number");
			let id_number = id_numberInput.value.trim();
			let id_numberreg=/^[A-Za-z0-9]{6,12}$/
			if (!id_numberreg.test(id_number)) {
				alert("账号需6-12位字母/数字组合");
				return false;
			}
			
			let id_passwordInput = document.getElementById("id_password");
			let id_password = id_passwordInput.value;
			let id_passwordreg = /^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/;
			if (!id_passwordreg.test(id_password)) {
				alert("密码格式不对，需8-16位且包含字母和数字");
				return false;
			}
			   if (rememberMe) {
			       const username = document.getElementById('id_number').value;
			       const password = document.getElementById('id_password').value;
			       localStorage.setItem('rememberedUsername', username);
			       localStorage.setItem('rememberedPassword', password);
			   } else {
			       localStorage.removeItem('rememberedUsername');
			       localStorage.removeItem('rememberedPassword');
			   }
			    
			alert("登录成功！即将进入五子棋游戏~");
			window.location.href = "moder_selection.html";  
			return false;
			}
		//注册校验
			function form_opg(){
			let usernameInput = document.getElementById("username");
			let username = usernameInput.value.trim();
			let usernamereg=/^[a-zA-Z0-9\u4e00-\u9fa5][a-zA-Z0-9\u4e00-\u9fa5_-]{1,8}[a-zA-Z0-9\u4e00-\u9fa5]$/
			if (!usernamereg.test(username)) {
				alert("用户名需3-10位（可含中文、字母、数字、_-）");
				return false;
			}
			
			let regAccountInput = document.getElementById("regAccount");
			let regAccount = regAccountInput.value;
			let regAccountreg = /^[A-Za-z0-9]{6,12}$/
			if (!regAccountreg.test(regAccount)) {
				alert("账号需6-12位字母/数字组合");
				return false;
			}
			
			let regPasswordInput = document.getElementById("regPassword");
			let regPassword= regPasswordInput.value;
			let regPasswordreg = /^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,16}$/;
			if (!regPasswordreg.test(regPassword)) {
				alert("密码格式不对，需8-16位且包含字母和数字");
				return false;
			}
			let again_regPasswordInput = document.getElementById("again_regPassword");
			let again_regPassword = again_regPasswordInput.value;
			if (again_regPassword !== regPassword) {
				alert("确认密码与密码不一致，请重新输入");
				return false;
			}
			
			  
			alert("所有字段格式正确，即将提交！");
			document.getElementById('showLogin').style.display = 'flex';
			return true;
			}
			
			
			
       
		
	</script>
	<body>
	    <video class="bg-video" autoplay loop muted playsinline poster="img/五子棋封面.jpg">
	    
	        <source src="img/001.mp4" type="video/mp4">
	        <source src="img/001.webm" type="video/webm">
	    </video>	 
		<div class="main-content">
		    <h1 class="game-title">五子棋大师</h1>
		    <p class="game-description">欢迎来到五子棋大师！这是一款经典的策略游戏，挑战你的思维，与好友对战，提升你的棋艺。</p>
		    
		    <button class="auth-btn" id="showLogin">
		        <i class="fas fa-chess-board"></i>
		        账号登录
		    </button>
		<div class="auth-section">
		
		<div class="container" id="logincontainer" >
			<h1>五子棋-登录</h1>
			<form onsubmit="return form_data()">
				<div>
					<label for="id_number">账号(6-12位字母/数字组合)</label>
					<input id="id_number" name="id_number" type="text" placeholder="请输入您的账号" />
					
				</div>
				
				<div class="password-container">
				  <label for="id_password">密码(8-16位含字母与数字)</label>
				  <input id="id_password" type="password"/>
		           <img src="img/闭眼.png" id="eyeicon" />
				</div>
				<div class="remember-me">
				    <input type="checkbox" id="rememberMeCheck" name="rememberMe">
				    <label for="rememberMeCheck">记住我(7天内自动登录)</label>
				</div>
				<div>
					<input type="submit" value="登录"/>
				</div>
				<div>
				    还没有账号？<a href="javascript:;" id="goregister">去注册</a>
				</div>
				
				
				
			</form>
		</div>
		<div class="auth-container" id="registercontainer" >
			<h2>五子棋-注册</h2>
			<form onsubmit="return form_opg()">
				<div>
					<label for="username">用户名(3-10位，可含中文、字母、数字、_-)</label>
					<input id ="username" name="username" type="text" placeholder="请输入用户名"/>
				</div>
				<div>
					<label for="regAccount">账号(6-12位字母/数字)</label>
					<input id="regAccount" name="regAccount" type="text" placeholder="请输入您的账号"/>
				</div>
				<div class="password-container">
				  <label for="regPassword">密码(8-16位含字母与数字)</label>
				  <input id="regPassword" type="password" placeholder="请输入您的密码"/>
				  <img src="img/闭眼.png" id="regEyeIcon" class="pwd-icon" /> 
				</div>
				<div>
					<label for="again_regPassword">确认密码</label>
					<input id='again_regPassword' name="again_regPassword" type="password" placeholder="请再次输入您的密码"/>
				</div>
				<div>
					<input type="submit" value="注册"/>
				</div>
				<div>
					 已有账号？<a href="javascript:;" id="gologin">去登录</a>
				</div>
				
				
				
			</form>
			
		</div>
		
		</div>
		
	</div>
		<script>
			
			let eyeicon = document.getElementById("eyeicon");
			let id_password = document.getElementById("id_password");
			
			eyeicon.onclick = function(){
				if(id_password.type === "password"){
					id_password.type = "text";
					eyeicon.src = "img/睁眼.png";
				}else{
					id_password.type = "password";
					eyeicon.src = "img/闭眼.png";
				}
			}
			
			let regEyeIcon = document.getElementById("regEyeIcon");
			let regPassword = document.getElementById("regPassword");
			
			regEyeIcon.onclick = function(){
			    if(regPassword.type === "password"){
			        regPassword.type = "text";
			        regEyeIcon.src = "img/睁眼.png";
			    }else{
			        regPassword.type = "password";
			        regEyeIcon.src = "img/闭眼.png";
			    }
			}
		</script>
	</body>
</html>